<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>Device Registration Form</title>
    <style>
      body {
        font-family: Arial, sans-serif;
        margin: 40px;
      }

      label {
        display: block;
        margin-top: 10px;
      }

      input {
        width: 250px;
        padding: 6px;
        margin-top: 5px;
        border: 1px solid #ccc;
        border-radius: 4px;
      }

      .error {
        border-color: red;
        background-color: #ffe6e6;
      }

      button {
        margin-top: 15px;
        padding: 8px 15px;
        background-color: #4caf50;
        color: white;
        border: none;
        border-radius: 4px;
        cursor: pointer;
      }

      button:hover {
        background-color: #45a049;
      }

      #errorMsg {
        color: red;
        font-weight: bold;
        margin-top: 10px;
      }
    </style>
  </head>
  <body>
    <h2>Device Registration Form</h2>

    <form id="regForm">
      <label>Device Name:</label>
      <input type="text" id="deviceName" />

      <label>Serial Number:</label>
      <input type="text" id="serialNumber" placeholder="XXXX-YYYY" />

      <label>Confirm Serial Number:</label>
      <input type="text" id="confirmSerial" placeholder="XXXX-YYYY" />
      <br />
      <button type="submit">Register</button>
    </form>

    <p id="errorMsg"></p>

    <script>
      document.getElementById("regForm").addEventListener("submit", (e) => {
        e.preventDefault();

        document
          .querySelectorAll("input")
          .forEach((i) => i.classList.remove("error"));
        document.getElementById("errorMsg").textContent = "";

        // Get values
        const device = document.getElementById("deviceName").value.trim();
        const serial = document.getElementById("serialNumber").value.trim();
        const confirm = document.getElementById("confirmSerial").value.trim();

        // Check: Device name required
        if (device === "") {
          showError("Device Name is required.", "deviceName");
          return;
        }

        // Check: Serial format must be XXXX-YYYY
        const pattern = /^[A-Za-z0-9]{4}-[A-Za-z0-9]{4}$/;
        if (!pattern.test(serial)) {
          showError(
            "Invalid Serial Number format. Must be XXXX-YYYY.",
            "serialNumber"
          );
          return;
        }

        // Check: Confirm serial match
        if (serial !== confirm) {
          showError("Serial Numbers do not match.", "confirmSerial");
          return;
        }

        alert("Form submitted successfully!");
      });

      function showError(msg, fieldId) {
        document.getElementById("errorMsg").textContent = msg;
        document.getElementById(fieldId).classList.add("error");
      }
    </script>
  </body>
</html>
